<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="//code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

    <script>
      $(function() {
        var toc = $("#toc").tocify({
          selectors: "h1,h2",
          extendPage: false,
          theme: "none",
          smoothScroll: false,
          showEffectSpeed: 0,
          hideEffectSpeed: 180,
          ignoreSelector: ".toc-ignore",
          hashGenerator: 'pretty',
          highlightOffset: 60,
          scrollTo: -2,
          scrollHistory: true,
          hashGenerator: function(text, element) {
            return element[0].getAttribute('id');
          }
        }).data("toc-tocify");
        // Hack to make already open sections to start opened,
        // instead of displaying an ugly animation
        setTimeout(function() {
          toc.setOption("showEffectSpeed", 180);
        },50);
        setupLanguages([
                'javascript',
        ]);
      });
    </script>
  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
      <div id="toc">
      </div>
      <ul class="toc-footer">
          <li><a href='#'>Sign Up for a Developer Key</a></li>
          <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>There are many cloud storage options for consumers. However each provider has their own API and API design philosophy, making it harder for developers to easily integrate their applications.</p>

<p>The idea behind filefog is to provide a single consistent, promise-based API for developers to access user uploaded data, without having to worry about differing OAuth implementations, base urls or data parsing.</p>

<p>The filefog philosophy is as follows:</p>

<ul>
<li><strong>Don&rsquo;t reinvent the wheel</strong> - if a native library is available for NodeJS, use it. All we need  to do then is wrap the required methods to create a consistent user experience, and let the API designers themselves deal with most fo the implementation details.</li>
<li><strong>Avoid Callback Hell</strong> - Javascript and most libraries built on-top of it heavily make use of callbacks. While this is perfectly fine for some, I prefer the Promise design pattern for its reliability, simplicity and synchronous feel when working with pseudo-filesystems.</li>
<li><strong>Implementation Agnostic API</strong> - The API endpoints and API responses will both be wrapped so that developers should be able to swap out providers with little to no code changes.</li>
<li><strong>Plugin Architecture</strong> - API Providers can be added as needed with minimal configuration, as needed.</li>
</ul>

<p><aside class="warning">
WARNING: Please note that this package is under heavy development, and the unified API may change unexpectedly. Once the API is stable, a version 1.0 will be released on NPM.</p>

<p></aside></p>

<h1 id="providers">Providers</h1>

<p>There are a number of cloud service providers, and filefog creates a unified API to communicate with many of the most popular.
filefog supports a plugin architecture and you can mix and match providers as you need them.
By default only the <code class="prettyprint">Local filesystem</code> provider is included with filefog, but the following service providers are already available as plugins for filefog:</p>

<ul>
<li>Dropbox</li>
<li>Google Drive</li>
<li>Microsoft OneDrive</li>
<li>Box.net</li>
</ul>

<p>The following provider plugins are planned for development</p>

<ul>
<li>Bittorrent Sync</li>
<li>SpiderOak</li>
<li>AnyCloud</li>
</ul>

<h1 id="quick-start">Quick Start</h1>

<blockquote>
<p>To use, just require <code class="prettyprint">filefog</code></p>
</blockquote>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">filefog</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'filefog'</span><span class="p">)</span>
</pre>

<blockquote>
<p>This configuration should only be run once during setup</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">filefog</span><span class="p">.</span><span class="nx">setConfig</span><span class="p">({</span>

        <span class="na">skydrive</span> <span class="p">:</span> <span class="p">{</span>
          <span class="na">client_key</span> <span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
          <span class="na">client_secret</span> <span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
          <span class="na">client_scope</span> <span class="p">:</span> <span class="s2">"wl.basic wl.emails wl.offline_access wl.skydrive_update"</span>
        <span class="p">},</span>
        <span class="na">box</span> <span class="p">:</span> <span class="p">{</span>
          <span class="na">client_key</span> <span class="p">:</span> <span class="s1">'cch3sssk23ueqsbdh2k2zlv2i7rz06lp'</span><span class="p">,</span>
          <span class="na">client_secret</span> <span class="p">:</span> <span class="s1">'6v7ywbCdut5FRdIjDeREofrFGc2ymGmA'</span>
        <span class="p">},</span>
        <span class="na">dropbox</span> <span class="p">:</span> <span class="p">{</span>
          <span class="na">client_key</span> <span class="p">:</span> <span class="s1">'sl47p7pijvtp73h'</span><span class="p">,</span>
          <span class="na">client_secret</span> <span class="p">:</span> <span class="s1">'j6vluc5yq7dxnj6'</span>
        <span class="p">}</span>
    <span class="p">});</span>
</pre>

<blockquote>
<p>Create a provider of of your choice</p>
</blockquote>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">googleProvider</span> <span class="o">=</span> <span class="nx">filefog</span><span class="p">.</span><span class="nx">provider</span><span class="p">(</span><span class="s1">'google'</span><span class="p">);</span>
</pre>

<blockquote>
<p>If you do not have access_tokens for the current user, generate a Authorize Url to redirect the user to (for OAuth flows)</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">googleProvider</span><span class="p">.</span><span class="nx">oAuthGetAuthorizeUrl</span><span class="p">()</span>
</pre>

<blockquote>
<p>Or intialize a client using previously saved access_tokens</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">googleProvider</span><span class="p">.</span><span class="nx">CreateClient</span><span class="p">({</span>
  <span class="na">access_token</span><span class="p">:</span> <span class="s1">'ya29.1.AADtN_W5vWUjYklaE_ZNkJBd2y9Ot60jF4SewLivnLgLHDYhmiadzbPPZntHmL4nceXs0w'</span><span class="p">,</span>
  <span class="na">refresh_token</span><span class="p">:</span> <span class="s1">'1/IMcWJR9KJPVguuKLUrHzMjRl-XECLf6mK2YoUYnbQaU'</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">client</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">client</span><span class="p">.</span><span class="nx">GetFolderInformation</span><span class="p">();</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">mimeType</span><span class="p">,</span> <span class="s1">'application/vnd.google-apps.folder'</span><span class="p">);</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="s1">'My Drive'</span><span class="p">);</span>
<span class="p">})</span>
</pre>

<h1 id="filesystem-definitions">FileSystem Definitions</h1>

<p>By default the provider responses are translated to a unified filesystem implementation. This is done via translation files contained in each provider plugin.
Response translation can be disabled globally or a per request basis. The original response is always accessable via the _raw property</p>

<h2 id="file">File</h2>

<blockquote>
<p>A file transformation may look something like this</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">transform</span><span class="p">.</span><span class="nx">is_file</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">is_folder</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">etag</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">etag</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">identifier</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">parent_identifier</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">mimetype</span> <span class="o">=</span> <span class="s2">""</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">created_date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">file_response</span><span class="p">.</span><span class="nx">created_at</span><span class="p">);</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">modified_date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">file_response</span><span class="p">.</span><span class="nx">modified_at</span><span class="p">);</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
<span class="c1">//transform.extension = file_response.name.split('.')
</span><span class="nx">transform</span><span class="p">.</span><span class="nx">checksum</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">sha1</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">file_size</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">_raw</span> <span class="o">=</span> <span class="nx">file_response</span><span class="p">;</span>
</pre>

<p>The unified file implementation has the following properties (if available)</p>

<table><thead>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>is_file</td>
<td>Boolean</td>
<td>true</td>
<td>Determines if the object is a file</td>
</tr>
<tr>
<td>is_folder</td>
<td>Boolean</td>
<td>false</td>
<td>Determines if object is a folder</td>
</tr>
<tr>
<td>etag</td>
<td>String</td>
<td>e3432d343</td>
<td>Specifies the files etag</td>
</tr>
<tr>
<td>identifier</td>
<td>String</td>
<td>&lsquo;/public/folder_name/test file.txt&rsquo; or &lsquo;123d34343&rsquo;</td>
<td>Specifies the file identifier for the provider</td>
</tr>
<tr>
<td>parent_identifier</td>
<td>String</td>
<td>&lsquo;/public/folder_name&rsquo; or &lsquo;123232ddd&rsquo;</td>
<td>Specifies the identifier of the parent of the current file</td>
</tr>
<tr>
<td>mimetype</td>
<td>String</td>
<td>&lsquo;text/plain&rsquo;</td>
<td>The mimetype of the file if available</td>
</tr>
<tr>
<td>created_date</td>
<td>Date</td>
<td>March 6, 2014 10:00:02 PST</td>
<td>The created date for the file</td>
</tr>
<tr>
<td>modified_date</td>
<td>Date</td>
<td>March 7, 2014, 11:00:00 PST</td>
<td>The modified/updated at date for the file</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>&lsquo;test file.txt&rsquo;</td>
<td>The filename including extension</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>&lsquo;Contains test data for file upload&rsquo;</td>
<td>The description of the file</td>
</tr>
<tr>
<td>extension</td>
<td>String</td>
<td>&lsquo;.txt&rsquo;</td>
<td>The extension of the file including period <code class="prettyprint">.</code></td>
</tr>
<tr>
<td>checksum</td>
<td>String</td>
<td>&lsquo;595f44fec1e92a71d3e9e77456ba80d1&rsquo;</td>
<td>Used to verify the integrity of the cloud file</td>
</tr>
<tr>
<td>_raw</td>
<td>Object</td>
<td>{}</td>
<td>Raw response as a Javascript object</td>
</tr>
</tbody></table>

<h2 id="folder">Folder</h2>

<blockquote>
<p>A folder transformation may look something like this</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">transform</span><span class="p">.</span><span class="nx">is_file</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">is_folder</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">etag</span> <span class="o">=</span> <span class="nx">folder_response</span><span class="p">.</span><span class="nx">etag</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">identifier</span> <span class="o">=</span> <span class="nx">folder_response</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">parent_identifier</span> <span class="o">=</span> <span class="nx">folder_response</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">created_date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">folder_response</span><span class="p">.</span><span class="nx">created_at</span><span class="p">);</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">modified_date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">folder_response</span><span class="p">.</span><span class="nx">modified_at</span><span class="p">);</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">folder_response</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">folder_response</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">_raw</span> <span class="o">=</span> <span class="nx">folder_response</span><span class="p">;</span>
</pre>

<p>The unified folder implementation has the following properties (if available)</p>

<table><thead>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>is_file</td>
<td>Boolean</td>
<td>false</td>
<td>Determines if the object is a file</td>
</tr>
<tr>
<td>is_folder</td>
<td>Boolean</td>
<td>true</td>
<td>Determines if object is a folder</td>
</tr>
<tr>
<td>etag</td>
<td>String</td>
<td>e3432d343</td>
<td>Specifies the files etag</td>
</tr>
<tr>
<td>identifier</td>
<td>String</td>
<td>&lsquo;/public/folder_name&rsquo; or &lsquo;123d34343&rsquo;</td>
<td>Specifies the folder identifier for the provider</td>
</tr>
<tr>
<td>parent_identifier</td>
<td>String</td>
<td>&lsquo;/public&rsquo; or &lsquo;123232ddd&rsquo;</td>
<td>Specifies the identifier of the parent of the current folder</td>
</tr>
<tr>
<td>created_date</td>
<td>Date</td>
<td>March 6, 2014 10:00:02 PST</td>
<td>The created date for the folder</td>
</tr>
<tr>
<td>modified_date</td>
<td>Date</td>
<td>March 7, 2014, 11:00:00 PST</td>
<td>The modified/updated at date for the folder</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>&lsquo;folder_name&rsquo;</td>
<td>The folder name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>&lsquo;Test folder&rsquo;</td>
<td>The description of the folder</td>
</tr>
<tr>
<td>_raw</td>
<td>Object</td>
<td>{}</td>
<td>Raw response as a Javascript object</td>
</tr>
</tbody></table>

<h2 id="account">Account</h2>

<blockquote>
<p>An account transformation may look something like this</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">transform</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">account_response</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">email</span> <span class="o">=</span> <span class="nx">account_response</span><span class="p">.</span><span class="nx">login</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">avatar_url</span> <span class="o">=</span> <span class="nx">account_response</span><span class="p">.</span><span class="nx">avatar_url</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">created_date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">account_response</span><span class="p">.</span><span class="nx">created_at</span><span class="p">);</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">modified_date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">account_response</span><span class="p">.</span><span class="nx">modified_at</span><span class="p">);</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">account_response</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="nx">transform</span><span class="p">.</span><span class="nx">_raw</span> <span class="o">=</span> <span class="nx">account_response</span><span class="p">;</span>
</pre>

<p>The unified account implementation has the following properties (if available)</p>

<table><thead>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>&lsquo;Jason Kulatunga&rsquo;</td>
<td>The full name/nickname of the account owner</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>&lsquo;test@example.com&rsquo;</td>
<td>Email address of account owner</td>
</tr>
<tr>
<td>avatar_url</td>
<td>String</td>
<td>&lsquo;http://www.example.com/img/avatar.png&rsquo;</td>
<td>The avatar/profile image url for the account holder.</td>
</tr>
<tr>
<td>created_date</td>
<td>Date</td>
<td>March 6, 2014 10:00:02 PST</td>
<td>The created date for the account</td>
</tr>
<tr>
<td>modified_date</td>
<td>Date</td>
<td>March 7, 2014, 11:00:00 PST</td>
<td>The modified/updated at date for the account</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>&lsquo;12e32a32ddd&rsquo;</td>
<td>The identifier for the account</td>
</tr>
<tr>
<td>_raw</td>
<td>Object</td>
<td>{}</td>
<td>Raw response as a Javascript object</td>
</tr>
</tbody></table>

<h2 id="quota">Quota</h2>

<blockquote>
<p>A quota transformation may look something like this</p>
</blockquote>
<pre class="highlight javascript"><span class="nx">transform</span><span class="p">.</span><span class="nx">total_bytes</span> <span class="o">=</span> <span class="nx">quota_response</span><span class="p">.</span><span class="nx">space_amount</span><span class="p">;</span> <span class="c1">//
</span><span class="nx">transform</span><span class="p">.</span><span class="nx">used_bytes</span> <span class="o">=</span> <span class="nx">quota_response</span><span class="p">.</span><span class="nx">space_used</span><span class="p">;</span> <span class="c1">//bytes used.
</span><span class="nx">transform</span><span class="p">.</span><span class="nx">limits</span><span class="o">=</span> <span class="p">{</span>
    <span class="na">upload_size</span> <span class="p">:</span> <span class="nx">quota_response</span><span class="p">.</span><span class="nx">max_upload_size</span>
<span class="p">}</span>
</pre>

<p>The unified account implementation has the following properties (if available)</p>

<table><thead>
<tr>
<th>Property Name</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total_bytes</td>
<td>String</td>
<td>&lsquo;32000000&rsquo;</td>
<td>Total space allocated to the account holder in bytes</td>
</tr>
<tr>
<td>used_bytes</td>
<td>String</td>
<td>&lsquo;5000&rsquo;</td>
<td>Total space used by the account holder in bytes</td>
</tr>
<tr>
<td>limits</td>
<td>Object</td>
<td>{}</td>
<td>Any limits specified by the provider</td>
</tr>
<tr>
<td>limits.upload_size</td>
<td>String</td>
<td>5000000</td>
<td>The maximum size of any file uploaded to the provider</td>
</tr>
<tr>
<td>_raw</td>
<td>Object</td>
<td>{}</td>
<td>Raw response as a Javascript object</td>
</tr>
</tbody></table>

<h1 id="filefog-methods">filefog Methods</h1>

<h2 id="register">register</h2>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">filefog</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'filefog'</span><span class="p">);</span>
<span class="nx">filefog</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">'google'</span><span class="p">,</span> <span class="k">new</span> <span class="nx">googleProvider</span><span class="p">({</span>
    <span class="na">client_key</span> <span class="p">:</span> <span class="s1">'777041726477-a5o1tp6f3i9m1me3tj5vhpnrn1jge43c.apps.googleusercontent.com'</span><span class="p">,</span>
    <span class="na">client_secret</span> <span class="p">:</span> <span class="s1">'mWURYHmMKZxr6aeR7DTjRu-q'</span><span class="p">,</span>
    <span class="na">client_scope</span> <span class="p">:</span> <span class="s2">"https://www.googleapis.com/auth/drive"</span><span class="p">,</span>
    <span class="na">callback_url</span> <span class="p">:</span> <span class="s2">"http://www.mywebsite.com/auth/google"</span>
<span class="p">}));</span>


<span class="kd">var</span> <span class="nx">googleProvider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">filefog</span><span class="p">.</span><span class="nx">provider</span><span class="p">(</span><span class="s1">'google'</span><span class="p">);</span>
</pre>

<p>Registers a cloud provider handler</p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>service</td>
<td>String</td>
<td><strong>yes</strong></td>
<td>This is an string specifing the provider you want to register eg. &ldquo;box&rdquo;, &ldquo;dropbox&rdquo;, &ldquo;google&rdquo;, &ldquo;skydrive&rdquo;, etc</td>
</tr>
<tr>
<td>provider_options</td>
<td>Object</td>
<td>no</td>
<td>One or more of the options below:</td>
</tr>
<tr>
<td>provider.redirect_url</td>
<td>String</td>
<td>no</td>
<td>Overrides the redirect url for this cloud service._</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Constructor</td>
<td>Returns a constructor for the specified provider.</td>
</tr>
</tbody></table>

<h2 id="provider">provider</h2>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">filefog</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'filefog'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">googleProvider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">filefog</span><span class="p">.</span><span class="nx">provider</span><span class="p">(</span><span class="s1">'google'</span><span class="p">);</span>
</pre>

<p>Returns an instance of the specified cloud provider.</p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>service</td>
<td>String</td>
<td><strong>yes</strong></td>
<td>This is an string specifing the provider you want to create eg. &ldquo;box&rdquo;, &ldquo;dropbox&rdquo;, &ldquo;google&rdquo;, &ldquo;skydrive&rdquo;, etc</td>
</tr>
<tr>
<td>provider_options</td>
<td>Object</td>
<td>no</td>
<td>One or more of the options below:</td>
</tr>
<tr>
<td>provider.redirect_url</td>
<td>String</td>
<td>no</td>
<td>Overrides the redirect url for this cloud service._</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Constructor</td>
<td>Returns a constructor for the specified provider.</td>
</tr>
</tbody></table>

<h1 id="provider-methods">Provider Methods</h1>

<h2 id="oauthgetauthorizeurl">oAuthGetAuthorizeUrl</h2>

<p>Returns the URL of the third party service’s authorization page. This is the URL that your application should forward the user to in first leg of  OAuth</p>

<h3 id="arguments">Arguments</h3>

<p><strong>none</strong></p>

<h3 id="returns">Returns</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>String</td>
<td>The authorization URL that the user must visit to start the OAuth flow.</td>
</tr>
</tbody></table>

<h2 id="oauthgetaccesstoken">oAuthGetAccessToken</h2>

<p>Used to swap the code provided by the OAuth redirect webhook into an access token (and refresh token if applicable)</p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_resp</td>
<td>Object</td>
<td><strong>yes</strong></td>
<td>An authorization code or verifier you retrieved in the first leg of OAuth 2</td>
</tr>
<tr>
<td>oauth_resp.code</td>
<td>String</td>
<td><strong>maybe</strong></td>
<td>If you are completing OAuth 2 flow, this option should be specified.</td>
</tr>
<tr>
<td>oauth_resp.verifier</td>
<td>String</td>
<td><strong>maybe</strong></td>
<td>If you are completing an OAuth 1 flow, this option should be specified.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Promise</td>
<td>A promise that will successfully resolve into an <code class="prettyprint">Object</code> with the following parameters</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>OAuth access token</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>OAuth refresh token, if available</td>
</tr>
<tr>
<td>access_token_secret</td>
<td>String</td>
<td>OAuth access token secret, if available</td>
</tr>
<tr>
<td>_raw</td>
<td>Object</td>
<td>the raw OAuth response, containing any additional data sent with the access_token</td>
</tr>
</tbody></table>

<h2 id="authentication">Authentication</h2>

<h1 id="test">Test</h1>
<pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
</pre>
<pre class="highlight python"><span class="kn">import</span> <span class="s">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">Kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
</pre>
<pre class="highlight shell"><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our <a href="http://example.com/developers">developer portal</a>.</p>

<p>Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: meowmeowmeow</code></p>

<p><aside class="notice">
You must replace <code class="prettyprint">meowmeowmeow</code> with your personal API key.
</aside></p>

<h1 id="kittens">Kittens</h1>

<h2 id="get-all-kittens">Get All Kittens</h2>
<pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span>
</pre>
<pre class="highlight python"><span class="kn">import</span> <span class="s">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">Kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre>
<pre class="highlight shell">curl <span class="s2">"http://example.com/api/kittens"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluffums"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calico"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre>

<p>This endpoint retrieves all kittens.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/kittens</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_cats</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody></table>

<p><aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside></p>

<h2 id="get-a-specific-kitten">Get a Specific Kitten</h2>
<pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre>
<pre class="highlight python"><span class="kn">import</span> <span class="s">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">Kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre>
<pre class="highlight shell">curl <span class="s2">"http://example.com/api/kittens/3"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This endpoint retrieves a specific kitten.</p>

<p><aside class="warning">If you&rsquo;re not using an administrator API key, note that some kittens will return 403 Forbidden if they are hidden for admins only.</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the cat to retrieve</td>
</tr>
</tbody></table>

            <h1 id="errors">Errors</h1>

<p><aside class="notice">This error section is stored in a separate file in <code class="prettyprint">includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the <code class="prettyprint">includes</code> folder and add them to the top of your <code class="prettyprint">index.md</code>&rsquo;s frontmatter. Files are included in the order listed.</aside></p>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slown down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
        <div id="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
        </div>
      </div>
    </div>
  </body>
</html>